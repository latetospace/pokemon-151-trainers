<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>151 Trainers</title>

  <style>
    :root {
      --bg: #0b0d12;
      --muted: #8b93a7;
      --text: #e8ecf6;
      --border: rgba(255,255,255,0.08);
      --link: #9fd3ff;
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 16px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background:
        radial-gradient(1200px 600px at 30% -10%, rgba(71,121,255,0.25), transparent 60%),
        radial-gradient(900px 500px at 80% 0%, rgba(255,95,179,0.18), transparent 55%),
        var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    header {
      position: sticky;
      top: 0;
      backdrop-filter: blur(10px);
      background: rgba(11,13,18,0.6);
      border-bottom: 1px solid var(--border);
      z-index: 10;
    }

    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 18px 16px;
    }

    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    h1 { margin: 0; font-size: 18px; }

    input[type="search"] {
      width: min(420px, 70vw);
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      color: var(--text);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      padding: 16px;
    }

    @media (min-width: 640px) { .grid { grid-template-columns: repeat(3, 1fr); } }
    @media (min-width: 900px) { .grid { grid-template-columns: repeat(5, 1fr); } }
    @media (min-width: 1100px){ .grid { grid-template-columns: repeat(6, 1fr); } }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      min-height: 235px;
    }

    .row {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .sprite {
      width: 64px;
      height: 64px;
      border-radius: 14px;
      background: rgba(255,255,255,0.06);
      border: 1px solid var(--border);
      display: grid;
      place-items: center;
    }

    .sprite img {
      width: 56px;
      height: 56px;
      image-rendering: pixelated;
    }

    .meta {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .name {
      font-weight: 650;
      font-size: 14px;
      margin: 0;
    }

    .dex {
      font-size: 12px;
      color: var(--muted);
    }

    .links a {
      font-size: 12px;
      color: var(--link);
      text-decoration: none;
      border: 1px solid rgba(159,211,255,0.25);
      background: rgba(159,211,255,0.08);
      padding: 6px 10px;
      border-radius: 999px;
    }

    .links a[aria-disabled="true"] {
      opacity: 0.45;
      pointer-events: none;
    }

    .stats {
      font-size: 12px;
      color: var(--muted);
      border-top: 1px solid rgba(255,255,255,0.06);
      padding-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .stats span {
      color: var(--text);
      font-weight: 600;
    }

    .footer {
      color: var(--muted);
      font-size: 12px;
      padding: 0 16px 22px;
      max-width: 1200px;
      margin: 0 auto;
    }
  </style>
</head>

<body>
  <header>
    <div class="wrap topbar">
      <h1>151 Trainers</h1>
      <input id="search" type="search" placeholder="Search PokÃ©mon or #ID" />
    </div>
  </header>

  <main class="wrap" style="padding:0;">
    <div id="grid" class="grid"></div>
  </main>

  <div class="footer">
    Trainer data loaded from <code>profiles.json</code>
  </div>

  <script>
    const names = [ /* SAME 151-NAME ARRAY YOU ALREADY HAVE */ ];

    const grid = document.getElementById("grid");
    const search = document.getElementById("search");

    const spriteUrl = id =>
      `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${id}.png`;

    function pad3(n) { return String(n).padStart(3, "0"); }

    async function loadProfiles() {
      const res = await fetch("./profiles.json", { cache: "no-store" });
      return res.json();
    }

    function buildCard(id, name, profile, defaults) {
      const collector = profile.collectorName || defaults.defaultCollector;
      const cards = Number(profile.cardCount ?? 0);
      const xLink = profile.x || "";

      const card = document.createElement("article");
      card.className = "card";

      card.innerHTML = `
        <div class="row">
          <div class="sprite">
            <img src="${spriteUrl(id)}" alt="${name}" />
          </div>
          <div class="meta">
            <p class="name">${name}</p>
            <div class="dex">#${pad3(id)}</div>
          </div>
        </div>

        <div class="links">
          ${
            xLink
              ? `<a href="${xLink}" target="_blank" rel="noopener">X</a>`
              : `<a aria-disabled="true">X</a>`
          }
        </div>

        <div class="stats">
          <div>Trainer: <span>${collector}</span></div>
          <div>Cards Collected: <span>${cards}</span></div>
        </div>
      `;
      return card;
    }

    async function init() {
      const data = await loadProfiles();

      function render(filter = "") {
        grid.innerHTML = "";
        filter = filter.toLowerCase();

        for (let i = 1; i <= 151; i++) {
          const name = names[i - 1];
          if (
            !filter ||
            name.toLowerCase().includes(filter) ||
            filter === String(i) ||
            filter === "#" + i
          ) {
            grid.appendChild(
              buildCard(i, name, data.profiles[String(i)] || {}, data)
            );
          }
        }
      }

      render();
      search.addEventListener("input", e => render(e.target.value));
    }

    init();
  </script>
</body>
</html>
